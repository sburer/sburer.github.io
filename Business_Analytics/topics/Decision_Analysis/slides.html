<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Samuel Burer">
  <title>Decision Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/theme/beige.css" id="theme">
  <link rel="stylesheet" href="../sburer.css"/>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Decision Analysis</h1>
  <p class="author">Samuel Burer</p>
  <p class="date">August 2022</p>
</section>

<section>
<section id="decision-analysis-with-decision-trees" class="title-slide slide level1">
<h1>Decision Analysis with Decision Trees</h1>

</section>
<section id="decision-analysis" class="slide level2">
<h2>Decision Analysis</h2>
<p><strong>Decision trees</strong> are a <em>structured tool</em> to help make <em>sequential decisions</em> in the face of <em>uncertainty</em></p>
</section>
<section id="section" class="slide level2">
<h2></h2>
<p>Ingredients required for decision analysis using decision trees:</p>
<ul>
<li>Possible <em>decisions</em></li>
<li>Uncertain <em>events</em> and their <em>probabilities</em></li>
<li><em>Payoffs</em> (or <em>costs</em>) that correspond to decisions and/or events</li>
</ul>
</section>
<section id="jj-flea-market" class="slide level2">
<h2>J&amp;J Flea Market</h2>
<p>One day each weekend, you rent an indoor booth to sell your homemade crafts at the J&amp;J Flea Market. From your experience, you know the following:</p>
<div class="fragment">
<table>
<thead>
<tr class="header">
<th>Profit/Weather</th>
<th>No Rain</th>
<th>Rain</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Saturday</td>
<td>$1000</td>
<td>$500</td>
</tr>
<tr class="even">
<td>Sunday</td>
<td>$700</td>
<td>$350</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<ul>
<li>This Saturday, there is a 70% chance of rain</li>
<li>This Sunday, there is a 30% chance</li>
<li>Which day do you sell at the flea market?</li>
</ul>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<ul>
<li>Decisions = sell on Sat, sell on Sun</li>
<li>Events = Sat weather (rain or not), Sun weather (rain or not)</li>
<li>Payoffs = various dollar amounts</li>
<li>Probabilities = 30%, 70%, etc</li>
</ul>
</section>
<section id="aside-probability-distributions" class="slide level2">
<h2>Aside: Probability Distributions</h2>
<p><img data-src="graphics/saturday_distribution.png" alt="Saturday probability distribution" /> </p>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<p><img data-src="graphics/sunday_distribution.png" alt="Sunday probability distribution" /> </p>
</section>
<section id="jj-flea-market-contd" class="slide level2">
<h2>J&amp;J Flea Market (cont’d)</h2>
<p><img data-src="graphics/jj_tree_setup.png" alt="J&amp;J decision tree setup" /> </p>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<p>Notes</p>
<ul>
<li><p>A decision tree shows all possible decisions and events in a graphical format</p></li>
<li><p>Time passes from left to right</p></li>
<li><p>The ultimate real-world outcome will correspond to a single path through the tree (from left to right)</p></li>
</ul>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<p>Finished tree in Excel. Explanation soon…</p>
<img data-src="graphics/jj_tree_finished_Excel.png" class="stretch" alt="J&amp;J decision tree finished Excel" /> 
</section></section>
<section>
<section id="uncertain-events-and-probability" class="title-slide slide level1">
<h1>Uncertain Events and Probability</h1>

</section>
<section id="determining-probabilities" class="slide level2">
<h2>Determining Probabilities</h2>
<p>Probabilities for an uncertain event can be determined:</p>
<ul>
<li>From the advice of expert</li>
<li>Using past data from similar situations</li>
<li>Analytically (e.g., flip of a coin)</li>
</ul>
</section>
<section id="section-5" class="slide level2">
<h2></h2>
<p><img data-src="graphics/odds_of_depression.png" alt="odds of depression" /> </p>
<p>Source: <a href="https://www.bloomberg.com/news/articles/2022-06-15/us-recession-risk-hits-72-by-2024-as-fed-hikes-rates-to-curb-inflation">Bloomberg</a></p>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<img data-src="graphics/chance_of_drought.png" class="stretch" alt="chance of drought" /> 
</section>
<section id="section-7" class="slide level2">
<h2></h2>
<img data-src="graphics/apple_watch.png" class="stretch" alt="Apple watch" /> 
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<p>Wall Street Journal, “U.S. Rolled Dice in bin Laden Raid,” May 3 2011</p>
<blockquote>
<p>Some of the analysts who assessed the intelligence put the chances [of Osama bin Laden being in the compound] as low as 60%</p>
</blockquote>
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<img data-src="graphics/nato_probabilities.png" class="stretch" alt="NATO probabilities" /> 
<p>See also <a href="https://github.com/zonination/perceptions#perceptions-of-probability-and-numbers">this website</a>.</p>
</section></section>
<section>
<section id="how-to-choose-a-best-decision" class="title-slide slide level1">
<h1>How to Choose a Best Decision</h1>

</section>
<section id="expected-value" class="slide level2">
<h2>Expected Value</h2>
<p>What metric should we use to determine the best decision?</p>
<ul>
<li>One of the most common ways to evaluate a decision (like in the J&amp;J example) is to calculate the decision’s … <strong>E</strong>xpected <strong>V</strong>alue</li>
</ul>
</section>
<section id="section-10" class="slide level2">
<h2></h2>
<p>You like to play Pick 3 Lotto. For $1, you choose a number between 0 and 999. If you choose correctly, you win $500. If you choose incorrectly, you win nothing</p>
<div class="fragment">
<ul>
<li>EV = 0.001($499) + 0.999(-$1) = -$0.50</li>
</ul>
</div>
</section>
<section id="section-11" class="slide level2">
<h2></h2>
<p>You are in sales, and 20% of your customers buy the low-price product (at $100), 55% the medium-price (at $450), and 25% the high-price (at $1100). What is the average revenue from a customer purchase?</p>
<div class="fragment">
<ul>
<li>EV = 0.2($100) + 0.55($450) + 0.25($1100) = $542.50</li>
</ul>
</div>
</section>
<section id="section-12" class="slide level2">
<h2></h2>
<p>You do odd jobs in your home town, and you can accept one of two jobs this week. The first job pays $500, and the second pays $650.</p>
<div class="fragment">
<ul>
<li>EV = max($500, $650) = $650</li>
</ul>
</div>
</section>
<section id="section-13" class="slide level2">
<h2></h2>
<p>Two contractors have put in bids for laying the asphalt at your company’s new office building construction site. The first is for $75,000, and the second is for $68,000.</p>
<div class="fragment">
<ul>
<li>EV = min($75,000, $68,000) = $68,000</li>
</ul>
</div>
</section>
<section id="section-14" class="slide level2">
<h2></h2>
<p>Technical definition of EV:</p>
<div class="fragment">
<ul>
<li>For an uncertain event, EV is the weighted average of all possible numerical outcomes, with the probabilities of each of the outcomes used as the weights</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>For a decision, EV is the max of all possible numerical outcomes (or min, as appropriate)</li>
</ul>
</div>
</section>
<section id="working-with-decision-trees" class="slide level2">
<h2>Working with Decision Trees</h2>
<p>There are two stages to evaluating a decision tree:</p>
<div class="fragment">
<ol type="1">
<li><p><strong>Setup</strong>: Draw a decision tree that lays out all possible sequences of decisions and events, along with the payoffs/costs and probabilities; also include final payoffs (“terminal values”)</p></li>
<li><p><strong>Fold Back</strong>: Calculate EV’s from end to beginning to find overall value of the tree</p></li>
</ol>
</div>
</section>
<section id="section-15" class="slide level2">
<h2></h2>
<p>The best sequence of decisions is then found by following the path that maximizes (or minimizes, as appropriate) the overall value</p>
</section>
<section id="section-16" class="slide level2">
<h2></h2>
<p>Starting with the terminal values at the ends of the paths…</p>
<div class="fragment">
<ul>
<li><p>The value of an event [circle] is the EV of the values of the branches</p></li>
<li><p>The value of a decision [square] is the max (or min, as appropriate) of the values of the decisions branches</p></li>
</ul>
</div>
</section>
<section id="section-17" class="slide level2">
<h2></h2>
<p><img data-src="graphics/jj_tree_finished.png" alt="J&amp;J decision tree finished" /> </p>
</section>
<section id="section-18" class="slide level2">
<h2></h2>
<ul>
<li><em>TreePlan</em> is an Excel add-in for decision trees</li>
<li>Student version available at <a href="http://www.treeplan.com">treeplan.com</a></li>
<li><a href="https://www.youtube.com/watch?v=pXginet_leg">YouTube tutorial</a></li>
<li>Another <a href="https://www.youtube.com/watch?v=KKRVRfm1xgQ">YouTube tutorial</a></li>
<li>Also see Excel file <em>flea_market.xlsx</em></li>
</ul>
</section></section>
<section>
<section id="more-examples" class="title-slide slide level1">
<h1>More Examples</h1>

</section>
<section id="example-from-past-student" class="slide level2">
<h2>Example from Past Student</h2>
<img data-src="graphics/past_student_1.png" class="stretch" alt="past student 1" /> 
</section>
<section id="section-19" class="slide level2">
<h2></h2>
<img data-src="graphics/past_student_2.png" class="stretch" alt="past student 2" /> 
</section>
<section id="to-build-or-not-to-build" class="slide level2">
<h2>To Build or Not to Build</h2>
<ul>
<li><p>Your business is located in a region that is somewhat prone to mud slides — each rainy season there is a 1% chance of a mud slide occurring. You estimate that a mud slide would do $1,000,000 damage</p></li>
<li><p>You have the option of building a retaining wall that would help reduce the chance of a devastating mud slide. The wall costs $40,000 to build, and if a slide occurs, the wall will hold with a 95% probability</p></li>
<li><p>Based on min EV, should you build this wall?</p></li>
</ul>
</section>
<section id="section-20" class="slide level2">
<h2></h2>
<ul>
<li>EV analysis says, “Don’t build wall”</li>
<li>Still a 1% chance of losing $1,000,000</li>
<li>Are you comfortable with that risk?</li>
<li>Comparing strategies…</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Strategy</th>
<th>EV</th>
<th>Risk</th>
<th>Risk Fraction</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Don’t build</td>
<td>$10,000</td>
<td>0.0100</td>
<td>1 out of 100</td>
</tr>
<tr class="even">
<td>Build</td>
<td>$40,500</td>
<td>0.0005</td>
<td>1 out of 2,000</td>
</tr>
</tbody>
</table>
</section>
<section id="section-21" class="slide level2">
<h2></h2>
<ul>
<li><p>This is called a <em>negative outcome</em> analysis</p></li>
<li><p>By considering risk of different decisions, you can balance the EV metric against other considerations</p></li>
</ul>
</section>
<section id="purchasing-call-options" class="slide level2">
<h2>Purchasing Call Options</h2>
<ul>
<li>Tonight you can purchase a 2-day call option for a single share of Stock X.
<ul>
<li>The price of the option is $2, which you pay to Sam.</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>If purchased, you may exercise the option either tomorrow night, the next night, or neither.
<ul>
<li>To exercise the option on a given night means that Sam pays you the difference of Stock X’s share price that night and its price tonight.</li>
<li>So it only makes sense for you to exercise on a night when the share price is higher than tonight.</li>
</ul></li>
</ul>
</div>
</section>
<section id="section-22" class="slide level2">
<h2></h2>
<ul>
<li>Tonight’s share price for Stock X is $40.</li>
<li>Each day, you believe the stock price will
<ul>
<li>rise 10% with probability 0.25</li>
<li>stay the same with probability 0.50</li>
<li>decrease 10% with probability 0.25</li>
</ul></li>
</ul>
</section>
<section id="section-23" class="slide level2">
<h2></h2>
<p>At a price of $2, is this option worth it?</p>
</section>
<section id="section-24" class="slide level2">
<h2></h2>
<ul>
<li>For example, suppose price
<ul>
<li>goes up tomorrow ($44.00)</li>
<li>goes down next day ($39.60)</li>
</ul></li>
<li>If you exercise tomorrow night, then Sam pays you $44 - $40 = $4, so that your net is $4 - $2 = $2</li>
<li>If you decide to wait until the second night, then you will not exercise the next night because $39.60 is less than tonight’s price of $40</li>
<li>If you do not exercise at all, then your net is $-2</li>
</ul>
</section>
<section id="aside-probability-distributions-1" class="slide level2">
<h2>Aside: Probability Distributions</h2>
<img data-src="graphics/call_option.png" class="stretch" /> 
</section>
<section id="section-25" class="slide level2">
<h2></h2>
<ul>
<li>Chart shows the probability distribution for the per-day percentage change in stock price</li>
<li>Similar to a relative histogram</li>
</ul>
</section>
<section id="purchasing-call-options-contd" class="slide level2">
<h2>Purchasing Call Options (cont’d)</h2>
<ul>
<li>Note: In this example, you can eliminate some dumb decisions</li>
<li>E.g., eliminate the decision of not exercising on the second night when price is above tonight’s price</li>
<li>See <em>call_option.xlsx</em></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4//dist/reveal.js"></script>

  // reveal.js plugins
  <script src="https://unpkg.com/reveal.js@^4//plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/zoom/zoom.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/math/math.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        math: {
          mathjax: 'https://cdn.mathjax.org/mathjax/latest/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [
          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
